#:kivy 2.1.0

BoxLayout:
    
    orientation: 'vertical'

    Label:
        text: app.gps_location

    Label:
        text: app.gps_status

    Label:
        text: str(app.relcoords)

    Button:
        text: 'Set Origin'
        on_press: app.set_origin()
        
    BoxLayout:
        size_hint_y: None
        height: '48dp'
        padding: '4dp'
        Label:
            text: 'Xmit to'
        Spinner:
            text: 'None'
            values: 'None','Base','Firebase'
            on_text:
                app.set_dest_addr(self.text)
                print(f'sending to {app.dest_addr}')
        ToggleButton:
            text: 'Start' if self.state == 'normal' else 'Stop'
            on_state:
                app.start(1000, 0) if self.state == 'down' else \
                app.stop()